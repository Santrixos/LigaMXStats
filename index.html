<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>UltraGol - Plataforma Deportiva Profesional</title>
    <link rel="stylesheet" href="css/main.css?v=2024091801">
    <link rel="stylesheet" href="css/animations.css?v=2024091801">
    <link rel="stylesheet" href="css/firebase-features.css?v=2024091801">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <img src="assets/logo.svg" alt="UltraGol" class="logo">
                <span class="logo-text">UltraGol</span>
                <span class="company-tag">by L3HO</span>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="index.html" class="nav-link active">Inicio</a>
                </li>
                <li class="nav-item">
                    <a href="standings.html" class="nav-link">Tabla de Posiciones</a>
                </li>
                <li class="nav-item">
                    <a href="teams.html" class="nav-link">Equipos</a>
                </li>
                <li class="nav-item">
                    <a href="fixtures.html" class="nav-link">Partidos</a>
                </li>
                <li class="nav-item">
                    <a href="calendario.html" class="nav-link">Calendario</a>
                </li>
                <li class="nav-item">
                    <a href="estadisticas.html" class="nav-link">Estadísticas</a>
                </li>
            </ul>
            <!-- Auth Buttons -->
            <div class="auth-buttons" id="authButtons">
                <button class="btn btn-outline" onclick="openAuthModal('login')">
                    <i class="fas fa-sign-in-alt"></i> Inicia Sesión
                </button>
                <button class="btn btn-primary" onclick="openAuthModal('register')">
                    <i class="fas fa-user-plus"></i> Registrarse
                </button>
            </div>
            
            <!-- User Menu (Hidden by default) -->
            <div class="user-menu" id="userMenu" style="display: none;">
                <div class="user-profile-summary">
                    <div class="user-avatar" id="userAvatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="user-info">
                        <span class="user-name" id="userDisplayName">Usuario</span>
                        <div class="user-stats-mini">
                            <span class="level">Nv. <span id="userLevel">1</span></span>
                            <span class="points"><i class="fas fa-star"></i> <span id="userPoints">0</span></span>
                        </div>
                    </div>
                    <button class="profile-dropdown-btn" onclick="toggleProfileDropdown()">
                        <i class="fas fa-chevron-down"></i>
                    </button>
                </div>
            </div>
            
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- Hero Carousel Section -->
    <section class="hero-carousel">
        <div class="carousel-container">
            <div class="carousel-slides" id="heroCarousel">
                <div class="carousel-slide active">
                    <div class="slide-content">
                        <h1 class="hero-title fade-in">UltraGol</h1>
                        <p class="hero-subtitle slide-up">La plataforma deportiva más profesional</p>
                        <div class="hero-buttons">
                            <a href="standings.html" class="btn btn-primary">Explorar Liga</a>
                            <a href="teams.html" class="btn btn-secondary">Ver Equipos</a>
                        </div>
                    </div>
                    <div class="slide-background estadio-azteca">
                        <div class="gradient-overlay"></div>
                    </div>
                </div>
                <div class="carousel-slide">
                    <div class="slide-content">
                        <h1 class="hero-title fade-in">Estadísticas Avanzadas</h1>
                        <p class="hero-subtitle slide-up">Análisis profesional y datos en tiempo real</p>
                        <div class="hero-buttons">
                            <a href="standings.html" class="btn btn-primary">Ver Análisis</a>
                            <a href="fixtures.html" class="btn btn-secondary">Resultados</a>
                        </div>
                    </div>
                    <div class="slide-background estadio-bbva">
                        <div class="gradient-overlay"></div>
                    </div>
                </div>
                <div class="carousel-slide">
                    <div class="slide-content">
                        <h1 class="hero-title fade-in">Experiencia Premium</h1>
                        <p class="hero-subtitle slide-up">Diseño profesional by L3HO</p>
                        <div class="hero-buttons">
                            <a href="teams.html" class="btn btn-primary">Descubrir</a>
                            <a href="fixtures.html" class="btn btn-secondary">Explorar</a>
                        </div>
                    </div>
                    <div class="slide-background estadio-jalisco">
                        <div class="gradient-overlay"></div>
                    </div>
                </div>
                <div class="carousel-slide">
                    <div class="slide-content">
                        <h1 class="hero-title fade-in">Futbol Mexicano</h1>
                        <p class="hero-subtitle slide-up">La pasión que nos une</p>
                        <div class="hero-buttons">
                            <a href="standings.html" class="btn btn-primary">Liga MX</a>
                            <a href="fixtures.html" class="btn btn-secondary">Calendario</a>
                        </div>
                    </div>
                    <div class="slide-background estadio-universitario">
                        <div class="gradient-overlay"></div>
                    </div>
                </div>
                <div class="carousel-slide">
                    <div class="slide-content">
                        <h1 class="hero-title fade-in">Grandes Estadios</h1>
                        <p class="hero-subtitle slide-up">Templos del futbol mexicano</p>
                        <div class="hero-buttons">
                            <a href="teams.html" class="btn btn-primary">Explorar</a>
                            <a href="standings.html" class="btn btn-secondary">Clasificación</a>
                        </div>
                    </div>
                    <div class="slide-background estadio-corona">
                        <div class="gradient-overlay"></div>
                    </div>
                </div>
            </div>
            <div class="carousel-indicators" id="carouselIndicators">
                <span class="indicator active" data-slide="0"></span>
                <span class="indicator" data-slide="1"></span>
                <span class="indicator" data-slide="2"></span>
                <span class="indicator" data-slide="3"></span>
                <span class="indicator" data-slide="4"></span>
            </div>
        </div>
    </section>

    <!-- Quick Stats Section -->
    <section class="stats-section">
        <div class="container">
            <h2 class="section-title">Temporada Actual</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <div class="stat-number" data-count="18">0</div>
                    <div class="stat-label">Equipos</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-calendar"></i>
                    </div>
                    <div class="stat-number" data-count="306">0</div>
                    <div class="stat-label">Partidos</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-futbol"></i>
                    </div>
                    <div class="stat-number" data-count="850">0</div>
                    <div class="stat-label">Goles</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-number" data-count="500">0</div>
                    <div class="stat-label">Jugadores</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Top Teams Preview -->
    <section class="top-teams">
        <div class="container">
            <h2 class="section-title">Primeros Lugares</h2>
            <div class="teams-preview" id="topTeamsPreview">
                <!-- Dynamic content loaded via JavaScript -->
            </div>
            <div class="section-footer">
                <a href="standings.html" class="btn btn-outline">Ver Tabla Completa</a>
            </div>
        </div>
    </section>

    <!-- Recent Matches -->
    <section class="recent-matches">
        <div class="container">
            <h2 class="section-title">Últimos Resultados</h2>
            <div class="matches-container" id="recentMatches">
                <!-- Dynamic content loaded via JavaScript -->
            </div>
            <div class="section-footer">
                <a href="fixtures.html" class="btn btn-outline">Ver Todos los Partidos</a>
            </div>
        </div>
    </section>

    <!-- Advanced Search & Comparison -->
    <section class="search-comparison">
        <div class="container">
            <h2 class="section-title">Búsqueda Avanzada & Comparación</h2>
            <div class="search-tools">
                <div class="search-bar">
                    <input type="text" id="globalSearch" placeholder="Buscar equipos, jugadores, partidos..." class="search-input">
                    <button class="search-btn"><i class="fas fa-search"></i></button>
                </div>
                <div class="filter-buttons">
                    <button class="filter-btn active" data-filter="all" data-value="all">Todos</button>
                    <button class="filter-btn" data-filter="region" data-value="norte">Norte</button>
                    <button class="filter-btn" data-filter="region" data-value="centro">Centro</button>
                    <button class="filter-btn" data-filter="region" data-value="sur">Sur</button>
                </div>
            </div>
            <div class="comparison-tools">
                <h3>Comparador de Equipos</h3>
                <div class="team-selectors">
                    <select id="team1Select" class="team-select">
                        <option value="">Seleccionar Equipo 1</option>
                    </select>
                    <div class="vs-indicator">VS</div>
                    <select id="team2Select" class="team-select">
                        <option value="">Seleccionar Equipo 2</option>
                    </select>
                    <button id="compareBtn" class="btn btn-primary">Comparar</button>
                </div>
                <div id="comparisonResults" class="comparison-results"></div>
            </div>
        </div>
    </section>

    <!-- Analytics Dashboard -->
    <section class="analytics-dashboard">
        <div class="container">
            <h2 class="section-title">Analytics Profesional</h2>
            <div class="analytics-grid">
                <div class="analytics-card">
                    <h3>Rendimiento de Liga</h3>
                    <div id="leaguePerformance" class="chart-container">
                        <div class="chart-placeholder">
                            <i class="fas fa-chart-line"></i>
                            <p>Gráfico de rendimiento general</p>
                        </div>
                    </div>
                </div>
                <div class="analytics-card">
                    <h3>Top Goleadores</h3>
                    <div id="topScorers" class="scorers-list">
                        <div class="scorer-item">
                            <span class="position">1</span>
                            <span class="name">Análisis Avanzado</span>
                            <span class="goals">Disponible</span>
                        </div>
                        <div class="scorer-item">
                            <span class="position">2</span>
                            <span class="name">Estadísticas Pro</span>
                            <span class="goals">En Tiempo Real</span>
                        </div>
                        <div class="scorer-item">
                            <span class="position">3</span>
                            <span class="name">Métricas Avanzadas</span>
                            <span class="goals">Precisas</span>
                        </div>
                    </div>
                </div>
                <div class="analytics-card">
                    <h3>Tendencias</h3>
                    <div class="trends-container">
                        <div class="trend-item">
                            <i class="fas fa-arrow-up trend-up"></i>
                            <span>Partidos Emocionantes +15%</span>
                        </div>
                        <div class="trend-item">
                            <i class="fas fa-arrow-up trend-up"></i>
                            <span>Goles por Partido +8%</span>
                        </div>
                        <div class="trend-item">
                            <i class="fas fa-arrow-down trend-down"></i>
                            <span>Tarjetas Rojas -12%</span>
                        </div>
                    </div>
                </div>
                <div class="analytics-card">
                    <h3>Próximos Destacados</h3>
                    <div class="featured-matches">
                        <div class="featured-match">
                            <div class="match-teams">
                                <span>Clásico Nacional</span>
                            </div>
                            <div class="match-info">
                                <span class="date">Próximo Fin de Semana</span>
                                <span class="importance">★★★★★</span>
                            </div>
                        </div>
                        <div class="featured-match">
                            <div class="match-teams">
                                <span>Derby Regional</span>
                            </div>
                            <div class="match-info">
                                <span class="date">Miércoles</span>
                                <span class="importance">★★★★☆</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Professional Insights -->
    <section class="professional-insights">
        <div class="container">
            <h2 class="section-title">Insights Profesionales by L3HO</h2>
            <div class="insights-grid">
                <div class="insight-card">
                    <div class="insight-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <h3>Análisis Táctico</h3>
                    <p>Análisis profundo de formaciones, estrategias y rendimiento táctico de cada equipo.</p>
                    <a href="#" class="insight-link">Ver Análisis <i class="fas fa-arrow-right"></i></a>
                </div>
                <div class="insight-card">
                    <div class="insight-icon">
                        <i class="fas fa-chart-bar"></i>
                    </div>
                    <h3>Métricas Avanzadas</h3>
                    <p>Estadísticas avanzadas, xG, heat maps y análisis de rendimiento individual.</p>
                    <a href="#" class="insight-link">Ver Métricas <i class="fas fa-arrow-right"></i></a>
                </div>
                <div class="insight-card">
                    <div class="insight-icon">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <h3>Predicciones Pro</h3>
                    <p>Algoritmos avanzados para predicciones de partidos y tendencias del campeonato.</p>
                    <a href="#" class="insight-link">Ver Predicciones <i class="fas fa-arrow-right"></i></a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>UltraGol</h3>
                    <p>Plataforma deportiva profesional by L3HO</p>
                    <div class="social-links">
                        <a href="#" class="social-link"><i class="fab fa-facebook"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>Enlaces</h4>
                    <ul>
                        <li><a href="standings.html">Tabla de Posiciones</a></li>
                        <li><a href="teams.html">Equipos</a></li>
                        <li><a href="fixtures.html">Partidos</a></li>
                        <li><a href="calendario.html">Calendario</a></li>
                        <li><a href="estadisticas.html">Estadísticas</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Información</h4>
                    <ul>
                        <li><a href="#">Reglamento</a></li>
                        <li><a href="#">Estadísticas</a></li>
                        <li><a href="#">Noticias</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 UltraGol by L3HO. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Authentication Modal -->
    <div class="modal" id="authModal" style="display: none;">
        <div class="modal-content auth-modal-content">
            <div class="modal-header">
                <h2 id="authModalTitle">Iniciar Sesión</h2>
                <button class="close-modal" onclick="closeAuthModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="auth-tabs">
                    <button class="auth-tab active" onclick="showAuthTab('login')" id="loginTab">Iniciar Sesión</button>
                    <button class="auth-tab" onclick="showAuthTab('register')" id="registerTab">Registrarse</button>
                </div>
                
                <!-- Login Form -->
                <div class="auth-form" id="loginForm">
                    <form id="loginFormElement">
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" id="loginEmail" required placeholder="tu@email.com">
                        </div>
                        <div class="form-group">
                            <label>Contraseña</label>
                            <input type="password" id="loginPassword" required placeholder="Tu contraseña">
                        </div>
                        <button type="submit" class="btn btn-primary full-width">
                            <i class="fas fa-sign-in-alt"></i>
                            Iniciar Sesión
                        </button>
                    </form>
                    
                    <div class="auth-divider">
                        <span>o</span>
                    </div>
                    
                    <button class="btn btn-google full-width" onclick="signInWithGoogle()">
                        <i class="fab fa-google"></i>
                        Continuar con Google
                    </button>
                    
                    <div class="auth-links">
                        <a href="#" onclick="showForgotPassword()">¿Olvidaste tu contraseña?</a>
                    </div>
                </div>
                
                <!-- Register Form -->
                <div class="auth-form" id="registerForm" style="display: none;">
                    <form id="registerFormElement">
                        <div class="form-group">
                            <label>Nombre de Usuario</label>
                            <input type="text" id="registerName" required placeholder="Tu nombre">
                        </div>
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" id="registerEmail" required placeholder="tu@email.com">
                        </div>
                        <div class="form-group">
                            <label>Contraseña</label>
                            <input type="password" id="registerPassword" required placeholder="Mínimo 6 caracteres">
                        </div>
                        <div class="form-group">
                            <label>Equipo Favorito</label>
                            <select id="registerFavoriteTeam">
                                <option value="">Selecciona tu equipo</option>
                                <option value="america">Club América</option>
                                <option value="chivas">CD Guadalajara</option>
                                <option value="cruz-azul">Cruz Azul</option>
                                <option value="pumas">Pumas UNAM</option>
                                <option value="tigres">Tigres UANL</option>
                                <option value="monterrey">CF Monterrey</option>
                                <option value="santos">Santos Laguna</option>
                                <option value="leon">Club León</option>
                            </select>
                        </div>
                        <div class="form-group checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="acceptTerms" required>
                                <span class="checkbox-custom"></span>
                                Acepto los <a href="#">términos y condiciones</a>
                            </label>
                        </div>
                        <button type="submit" class="btn btn-primary full-width">
                            <i class="fas fa-user-plus"></i>
                            Crear Cuenta
                        </button>
                    </form>
                    
                    <div class="auth-divider">
                        <span>o</span>
                    </div>
                    
                    <button class="btn btn-google full-width" onclick="signInWithGoogle()">
                        <i class="fab fa-google"></i>
                        Registrarse con Google
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Global API Key Script -->
    <script>
        // Set the Firebase API key from environment
        window.FIREBASE_API_KEY = '${process.env.GOOGLE_API_KEY || 'AIzaSyBvOkBwNQI-GnFUF3Sa416b9S7QJXJNnyg'}';
    </script>

    <!-- Firebase Configuration -->
    <script type="module" src="js/firebase-config.js"></script>
    
    <!-- Enhanced Main Scripts -->
    <script type="module">
        import { initAuth } from './js/auth.js';
        import { initMatchLinks, setupCommentForm } from './js/match-links.js';
        import { initNotifications } from './js/notifications.js';
        import { initUserProfiles } from './js/user-profiles.js';
        import { initComments } from './js/comments.js';
        
        // Initialize all Firebase systems
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize Firebase features
            initAuth();
            initMatchLinks();
            initNotifications();
            initUserProfiles();
            initComments();
            
            // Initialize admin dashboard for admin users
            import('./js/admin-dashboard.js').then(({ initAdminDashboard }) => {
                setTimeout(() => {
                    initAdminDashboard();
                }, 2000);
            });
            
            // Setup comment form when ready
            setTimeout(() => {
                setupCommentForm();
            }, 1000);
        });
        
        // Global functions for authentication modal
        window.openAuthModal = function(mode = 'login') {
            const modal = document.getElementById('authModal');
            modal.style.display = 'flex';
            showAuthTab(mode);
        };
        
        window.closeAuthModal = function() {
            const modal = document.getElementById('authModal');
            modal.style.display = 'none';
        };
        
        window.showAuthTab = function(tab) {
            const loginTab = document.getElementById('loginTab');
            const registerTab = document.getElementById('registerTab');
            const loginForm = document.getElementById('loginForm');
            const registerForm = document.getElementById('registerForm');
            const modalTitle = document.getElementById('authModalTitle');
            
            if (tab === 'login') {
                loginTab.classList.add('active');
                registerTab.classList.remove('active');
                loginForm.style.display = 'block';
                registerForm.style.display = 'none';
                modalTitle.textContent = 'Iniciar Sesión';
            } else {
                registerTab.classList.add('active');
                loginTab.classList.remove('active');
                registerForm.style.display = 'block';
                loginForm.style.display = 'none';
                modalTitle.textContent = 'Crear Cuenta';
            }
        };
        
        window.toggleProfileDropdown = function() {
            const userMenu = document.getElementById('userMenu');
            userMenu.classList.toggle('dropdown-open');
        };
        
        // Setup form handlers
        document.addEventListener('DOMContentLoaded', () => {
            const { loginUser, registerUser, signInWithGoogle } = await import('./js/auth.js');
            
            // Login form
            const loginForm = document.getElementById('loginFormElement');
            if (loginForm) {
                loginForm.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    const email = document.getElementById('loginEmail').value;
                    const password = document.getElementById('loginPassword').value;
                    await loginUser(email, password);
                });
            }
            
            // Register form
            const registerForm = document.getElementById('registerFormElement');
            if (registerForm) {
                registerForm.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    const name = document.getElementById('registerName').value;
                    const email = document.getElementById('registerEmail').value;
                    const password = document.getElementById('registerPassword').value;
                    const favoriteTeam = document.getElementById('registerFavoriteTeam').value;
                    await registerUser(email, password, name, favoriteTeam);
                });
            }
            
            // Google sign in
            window.signInWithGoogle = async function() {
                await signInWithGoogle();
            };
        });
    </script>
    
    <!-- Original main.js -->
    <script src="js/main.js?v=2024091801"></script>
</body>
</html>
