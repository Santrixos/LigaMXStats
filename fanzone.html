<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Fan Zone - UltraGol by L3HO</title>
    <link rel="stylesheet" href="css/main.css?v=2024091801">
    <link rel="stylesheet" href="css/fanzone.css?v=2024091801">
    <link rel="stylesheet" href="css/animations.css?v=2024091801">
    <link rel="stylesheet" href="css/firebase-features.css?v=2024091801">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <img src="assets/logo.svg" alt="Liga MX" class="logo">
                <span class="logo-text">UltraGol</span>
                <span class="company-tag">by L3HO</span>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="index.html" class="nav-link">Inicio</a>
                </li>
                <li class="nav-item">
                    <a href="standings.html" class="nav-link">Tabla de Posiciones</a>
                </li>
                <li class="nav-item">
                    <a href="teams.html" class="nav-link">Equipos</a>
                </li>
                <li class="nav-item">
                    <a href="fanzone.html" class="nav-link active">Fan Zone</a>
                </li>
                <li class="nav-item">
                    <a href="calendario.html" class="nav-link">Calendario</a>
                </li>
                <li class="nav-item">
                    <a href="ultragol-live.html" class="nav-link">UltraGol LIVE</a>
                </li>
            </ul>
            
            <!-- User Navigation -->
            <div class="user-nav" id="userNavigation" style="display: none;">
                <div class="notification-bell" id="notificationBell">
                    <i class="fas fa-bell"></i>
                    <span class="notification-count" id="notificationCount">0</span>
                </div>
                <div class="user-avatar" id="navUserAvatar">
                    <img id="navAvatarImage" style="display: none;" alt="Avatar">
                    <div class="nav-avatar-placeholder" id="navAvatarPlaceholder">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="online-status"></div>
                </div>
                <div class="user-menu-dropdown" id="userMenuDropdown">
                    <a href="profile.html" class="menu-item">
                        <i class="fas fa-user"></i> Mi Perfil
                    </a>
                    <a href="#" class="menu-item" onclick="showSettings()">
                        <i class="fas fa-cog"></i> Configuraci√≥n
                    </a>
                    <a href="#" class="menu-item" onclick="showNotifications()">
                        <i class="fas fa-bell"></i> Notificaciones
                    </a>
                    <div class="menu-divider"></div>
                    <a href="#" class="menu-item" onclick="signOutUser()">
                        <i class="fas fa-sign-out-alt"></i> Cerrar Sesi√≥n
                    </a>
                </div>
            </div>
            
            <!-- Auth Buttons -->
            <div class="auth-buttons" id="authButtons">
                <button class="btn btn-outline" onclick="openAuthModal('login')">
                    <i class="fas fa-sign-in-alt"></i>
                    <span>Iniciar Sesi√≥n</span>
                </button>
                <button class="btn btn-primary" onclick="openAuthModal('register')">
                    <i class="fas fa-user-plus"></i>
                    <span>Registrarse</span>
                </button>
            </div>
            
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- Fan Zone Hero Section -->
    <section class="fanzone-hero">
        <div class="hero-background">
            <div class="gradient-overlay"></div>
            <div class="floating-icons">
                <i class="fas fa-heart"></i>
                <i class="fas fa-camera"></i>
                <i class="fas fa-play"></i>
                <i class="fas fa-comment"></i>
                <i class="fas fa-share"></i>
            </div>
        </div>
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title">
                    <span class="title-gradient">Fan Zone</span>
                    <span class="title-emoji">‚öΩüî•</span>
                </h1>
                <p class="hero-subtitle">Comparte tu pasi√≥n por la Liga MX</p>
                <div class="hero-stats">
                    <div class="stat-item">
                        <span class="stat-number" data-count="1250">0</span>
                        <span class="stat-label">Posts</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" data-count="847">0</span>
                        <span class="stat-label">Videos</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" data-count="3420">0</span>
                        <span class="stat-label">Fans</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Create Post Section -->
    <section class="create-post-section">
        <div class="container">
            <div class="create-post-card">
                <div class="user-profile" id="createPostProfile">
                    <div class="avatar-container">
                        <div class="avatar-placeholder" id="postAvatarPlaceholder">
                            <i class="fas fa-user"></i>
                        </div>
                        <img id="postAvatarImage" style="display: none;" alt="Avatar">
                        <div class="user-level-badge" id="userLevelBadge">1</div>
                    </div>
                    <div class="user-info">
                        <span class="username" id="postUsername">Fan de Liga MX</span>
                        <span class="status" id="postUserStatus">¬øQu√© est√° pasando en la Liga MX?</span>
                        <div class="user-team-badge" id="userTeamBadge" style="display: none;">
                            <i class="fas fa-heart"></i>
                            <span id="userTeamName">Mi Equipo</span>
                        </div>
                    </div>
                    <div class="post-privacy">
                        <select id="postPrivacy" class="privacy-select">
                            <option value="public">üåç P√∫blico</option>
                            <option value="followers">üë• Solo seguidores</option>
                            <option value="private">üîí Solo yo</option>
                        </select>
                    </div>
                </div>
                
                <div class="post-composer">
                    <textarea id="postContent" placeholder="Comparte tu opini√≥n sobre la Liga MX..." maxlength="280"></textarea>
                    <div class="char-counter">
                        <span id="charCount">0</span>/280
                    </div>
                </div>

                <div class="media-preview" id="mediaPreview" style="display: none;">
                    <div class="preview-container">
                        <img id="imagePreview" style="display: none;" alt="Preview">
                        <video id="videoPreview" style="display: none;" controls></video>
                        <button class="remove-media" id="removeMedia">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>

                <div class="post-options">
                    <div class="media-options">
                        <label for="imageUpload" class="media-btn image-btn">
                            <i class="fas fa-image"></i>
                            <span>Foto</span>
                        </label>
                        <input type="file" id="imageUpload" accept="image/*" multiple style="display: none;">
                        
                        <label for="videoUpload" class="media-btn video-btn">
                            <i class="fas fa-video"></i>
                            <span>Video</span>
                        </label>
                        <input type="file" id="videoUpload" accept="video/*" style="display: none;">
                        
                        <button class="media-btn gif-btn" id="addGif">
                            <i class="fas fa-magic"></i>
                            <span>GIF</span>
                        </button>
                        
                        <button class="media-btn poll-btn" id="createPoll">
                            <i class="fas fa-poll"></i>
                            <span>Encuesta</span>
                        </button>
                        
                        <button class="media-btn emoji-btn" id="emojiPicker">
                            <i class="fas fa-smile"></i>
                            <span>Emoji</span>
                        </button>
                        
                        <button class="media-btn live-btn" id="goLive">
                            <i class="fas fa-broadcast-tower"></i>
                            <span>En Vivo</span>
                        </button>
                        
                        <button class="media-btn location-btn" id="addLocation">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Ubicaci√≥n</span>
                        </button>
                    </div>
                    
                    <div class="post-actions">
                        <div class="team-selector">
                            <select id="teamFilter">
                                <option value="">Todos los equipos</option>
                            </select>
                        </div>
                        <div class="post-schedule" id="postSchedule" style="display: none;">
                            <i class="fas fa-clock"></i>
                            <span>Programar</span>
                        </div>
                        <button class="post-btn" id="publishPost">
                            <i class="fas fa-paper-plane"></i>
                            <span>Publicar</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Content Filters -->
    <section class="content-filters">
        <div class="container">
            <div class="filter-tabs">
                <button class="filter-tab active" data-filter="all">
                    <i class="fas fa-th"></i>
                    <span>Todo</span>
                </button>
                <button class="filter-tab" data-filter="following">
                    <i class="fas fa-users"></i>
                    <span>Siguiendo</span>
                </button>
                <button class="filter-tab" data-filter="posts">
                    <i class="fas fa-comment-alt"></i>
                    <span>Posts</span>
                </button>
                <button class="filter-tab" data-filter="videos">
                    <i class="fas fa-play"></i>
                    <span>Videos</span>
                </button>
                <button class="filter-tab" data-filter="photos">
                    <i class="fas fa-camera"></i>
                    <span>Fotos</span>
                </button>
                <button class="filter-tab" data-filter="polls">
                    <i class="fas fa-poll"></i>
                    <span>Encuestas</span>
                </button>
                <button class="filter-tab" data-filter="live">
                    <i class="fas fa-broadcast-tower"></i>
                    <span>En Vivo</span>
                </button>
                <button class="filter-tab" data-filter="trending">
                    <i class="fas fa-fire"></i>
                    <span>Trending</span>
                </button>
            </div>
            
            <div class="sort-options">
                <select id="sortPosts">
                    <option value="recent">M√°s recientes</option>
                    <option value="popular">M√°s populares</option>
                    <option value="controversial">M√°s comentados</option>
                </select>
            </div>
        </div>
    </section>

    <!-- Feed Section -->
    <section class="feed-section">
        <div class="container">
            <div class="feed-layout">
                <!-- Stories Section -->
                <div class="stories-container">
                    <div class="stories-header">
                        <h3>Historias de Fans</h3>
                        <button class="add-story-btn" id="addStory">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                    <div class="stories-scroll" id="storiesContainer">
                        <!-- Stories will be loaded here -->
                    </div>
                </div>

                <!-- Main Feed -->
                <div class="main-feed">
                    <div class="feed-header">
                        <h3>Feed de Fans</h3>
                        <div class="view-toggle">
                            <button class="view-btn active" data-view="list">
                                <i class="fas fa-list"></i>
                            </button>
                            <button class="view-btn" data-view="grid">
                                <i class="fas fa-th"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Loading Indicator -->
                    <div class="loading-posts" id="loadingPosts">
                        <div class="post-skeleton">
                            <div class="skeleton-header">
                                <div class="skeleton-avatar"></div>
                                <div class="skeleton-info">
                                    <div class="skeleton-line"></div>
                                    <div class="skeleton-line short"></div>
                                </div>
                            </div>
                            <div class="skeleton-content">
                                <div class="skeleton-line"></div>
                                <div class="skeleton-line"></div>
                                <div class="skeleton-line short"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Posts Container -->
                    <div class="posts-container" id="postsContainer">
                        <!-- Posts will be loaded here -->
                    </div>
                    
                    <!-- Load More Button -->
                    <div class="load-more-container">
                        <button class="load-more-btn" id="loadMorePosts">
                            <i class="fas fa-plus"></i>
                            <span>Cargar m√°s posts</span>
                        </button>
                    </div>
                </div>

                <!-- Enhanced Sidebar -->
                <div class="enhanced-sidebar">
                    <!-- Trending Topics -->
                    <div class="sidebar-card trending-card">
                        <div class="card-header">
                            <h3><i class="fas fa-fire"></i> Trending</h3>
                            <button class="refresh-btn" onclick="refreshTrending()">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                        </div>
                        <div class="trending-topics" id="trendingTopics">
                            <!-- Trending topics will be loaded here -->
                        </div>
                    </div>
                    
                    <!-- Top Fans -->
                    <div class="sidebar-card top-fans-card">
                        <div class="card-header">
                            <h3><i class="fas fa-star"></i> Top Fans</h3>
                            <a href="#" class="view-all-link">Ver todos</a>
                        </div>
                        <div class="top-fans-list" id="topFansList">
                            <!-- Top fans will be loaded here -->
                        </div>
                    </div>
                    
                    <!-- Live Events -->
                    <div class="sidebar-card live-events-card">
                        <div class="card-header">
                            <h3><i class="fas fa-broadcast-tower"></i> En Vivo</h3>
                            <span class="live-indicator">LIVE</span>
                        </div>
                        <div class="live-events" id="liveEvents">
                            <!-- Live events will be loaded here -->
                        </div>
                    </div>
                    
                    <!-- Team of the Day -->
                    <div class="sidebar-card team-spotlight-card">
                        <div class="card-header">
                            <h3><i class="fas fa-trophy"></i> Equipo del D√≠a</h3>
                        </div>
                        <div class="team-spotlight" id="teamSpotlight">
                            <!-- Team spotlight will be loaded here -->
                        </div>
                    </div>
                    
                    <!-- Who to Follow -->
                    <div class="sidebar-card suggestions-card">
                        <div class="card-header">
                            <h3><i class="fas fa-user-plus"></i> A qui√©n seguir</h3>
                        </div>
                        <div class="user-suggestions" id="userSuggestions">
                            <!-- User suggestions will be loaded here -->
                        </div>
                    </div>
                    
                    <!-- Live Chat -->
                    <div class="sidebar-card chat-card">
                        <div class="card-header">
                            <h3><i class="fas fa-comments"></i> Chat Global</h3>
                            <div class="chat-controls">
                                <button class="chat-toggle" id="toggleChat">
                                    <i class="fas fa-expand"></i>
                                </button>
                            </div>
                        </div>
                        <div class="chat-messages" id="chatMessages">
                            <!-- Live chat messages -->
                        </div>
                        <div class="chat-input-container">
                            <div class="emoji-picker-mini" id="emojiPickerMini">
                                <button class="emoji-btn-mini" onclick="toggleEmojiPicker()">
                                    <i class="fas fa-smile"></i>
                                </button>
                                <div class="emoji-list" id="emojiList" style="display: none;">
                                    <span onclick="addEmoji('‚ù§Ô∏è')">‚ù§Ô∏è</span>
                                    <span onclick="addEmoji('üòç')">üòç</span>
                                    <span onclick="addEmoji('üòÇ')">üòÇ</span>
                                    <span onclick="addEmoji('üî•')">üî•</span>
                                    <span onclick="addEmoji('‚öΩ')">‚öΩ</span>
                                    <span onclick="addEmoji('üèÜ')">üèÜ</span>
                                </div>
                            </div>
                            <input type="text" id="chatInput" placeholder="Mensaje..." maxlength="200">
                            <button id="sendChat" class="send-chat-btn">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                        <div class="chat-status" id="chatStatus">
                            <span class="online-count" id="onlineCount">0</span> usuarios en l√≠nea
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Post Modal -->
    <div class="modal" id="postModal">
        <div class="modal-overlay" id="modalOverlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Post Detallado</h3>
                <button class="modal-close" id="closeModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="postModalBody">
                <!-- Post details will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Enhanced Authentication Modal -->
    <div class="auth-modal" id="authModal" style="display: none;">
        <div class="auth-overlay" onclick="closeAuthModal()"></div>
        <div class="auth-content">
            <div class="auth-header">
                <h3 id="authModalTitle">√önete a la Fan Zone</h3>
                <button class="auth-close" id="closeAuth" onclick="closeAuthModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="auth-tabs">
                <button class="auth-tab active" id="loginTab" onclick="showAuthTab('login')">
                    Iniciar Sesi√≥n
                </button>
                <button class="auth-tab" id="registerTab" onclick="showAuthTab('register')">
                    Registrarse
                </button>
            </div>
            
            <div class="auth-body">
                <!-- Login Form -->
                <div class="auth-form" id="loginForm">
                    <p class="auth-subtitle">Inicia sesi√≥n para unirte a la conversaci√≥n</p>
                    
                    <form id="emailLoginForm">
                        <div class="form-group">
                            <label for="loginEmail">Correo electr√≥nico</label>
                            <input type="email" id="loginEmail" required>
                        </div>
                        <div class="form-group">
                            <label for="loginPassword">Contrase√±a</label>
                            <input type="password" id="loginPassword" required>
                        </div>
                        <button type="submit" class="auth-btn primary">
                            <i class="fas fa-sign-in-alt"></i>
                            <span>Iniciar Sesi√≥n</span>
                        </button>
                    </form>
                    
                    <div class="auth-divider">
                        <span>o</span>
                    </div>
                    
                    <button class="auth-btn google-auth" id="googleAuth">
                        <i class="fab fa-google"></i>
                        <span>Continuar con Google</span>
                    </button>
                    
                    <div class="auth-footer">
                        <a href="#" onclick="showForgotPassword()">¬øOlvidaste tu contrase√±a?</a>
                    </div>
                </div>
                
                <!-- Register Form -->
                <div class="auth-form" id="registerForm" style="display: none;">
                    <p class="auth-subtitle">Crea tu cuenta y comp√°rtete con otros fans</p>
                    
                    <form id="emailRegisterForm">
                        <div class="form-group">
                            <label for="registerName">Nombre completo</label>
                            <input type="text" id="registerName" required>
                        </div>
                        <div class="form-group">
                            <label for="registerEmail">Correo electr√≥nico</label>
                            <input type="email" id="registerEmail" required>
                        </div>
                        <div class="form-group">
                            <label for="registerPassword">Contrase√±a</label>
                            <input type="password" id="registerPassword" required minlength="6">
                        </div>
                        <div class="form-group">
                            <label for="favoriteTeamRegister">Equipo favorito</label>
                            <select id="favoriteTeamRegister">
                                <option value="">Seleccionar equipo</option>
                            </select>
                        </div>
                        <div class="form-group checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="acceptTerms" required>
                                <span class="checkmark"></span>
                                Acepto los <a href="#" target="_blank">t√©rminos y condiciones</a>
                            </label>
                        </div>
                        <button type="submit" class="auth-btn primary">
                            <i class="fas fa-user-plus"></i>
                            <span>Crear Cuenta</span>
                        </button>
                    </form>
                    
                    <div class="auth-divider">
                        <span>o</span>
                    </div>
                    
                    <button class="auth-btn google-auth" id="googleRegister">
                        <i class="fab fa-google"></i>
                        <span>Registrarse con Google</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Notifications Panel -->
    <div class="notifications-panel" id="notificationsPanel" style="display: none;">
        <div class="panel-header">
            <h3>Notificaciones</h3>
            <div class="panel-actions">
                <button class="mark-all-read" onclick="markAllAsRead()">
                    <i class="fas fa-check-double"></i>
                </button>
                <button class="close-panel" onclick="hideNotifications()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
        <div class="notifications-content" id="notificationsContent">
            <!-- Notifications will be loaded here -->
        </div>
    </div>
    
    <!-- Emoji Picker Modal -->
    <div class="emoji-picker-modal" id="emojiPickerModal" style="display: none;">
        <div class="emoji-categories">
            <button class="emoji-category active" data-category="recent">üïí</button>
            <button class="emoji-category" data-category="people">üòä</button>
            <button class="emoji-category" data-category="nature">üåø</button>
            <button class="emoji-category" data-category="food">üçï</button>
            <button class="emoji-category" data-category="activities">‚öΩ</button>
            <button class="emoji-category" data-category="travel">üöó</button>
            <button class="emoji-category" data-category="objects">üì±</button>
            <button class="emoji-category" data-category="symbols">üíØ</button>
        </div>
        <div class="emoji-grid" id="emojiGrid">
            <!-- Emojis will be loaded here -->
        </div>
    </div>
    
    <!-- GIF Picker Modal -->
    <div class="gif-picker-modal" id="gifPickerModal" style="display: none;">
        <div class="gif-search">
            <input type="text" id="gifSearch" placeholder="Buscar GIFs...">
            <button onclick="searchGifs()">
                <i class="fas fa-search"></i>
            </button>
        </div>
        <div class="gif-categories">
            <button class="gif-category active" data-category="trending">Trending</button>
            <button class="gif-category" data-category="futbol">F√∫tbol</button>
            <button class="gif-category" data-category="celebration">Celebraci√≥n</button>
            <button class="gif-category" data-category="reaction">Reacciones</button>
        </div>
        <div class="gif-grid" id="gifGrid">
            <!-- GIFs will be loaded here -->
        </div>
    </div>
    
    <!-- Poll Creation Modal -->
    <div class="poll-modal" id="pollModal" style="display: none;">
        <div class="modal-overlay" onclick="closePollModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Crear Encuesta</h3>
                <button class="modal-close" onclick="closePollModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="pollForm">
                    <div class="form-group">
                        <label for="pollQuestion">Pregunta</label>
                        <input type="text" id="pollQuestion" placeholder="¬øCu√°l es tu equipo favorito?" required>
                    </div>
                    <div class="poll-options" id="pollOptions">
                        <div class="form-group">
                            <label>Opci√≥n 1</label>
                            <input type="text" class="poll-option" placeholder="Primera opci√≥n" required>
                        </div>
                        <div class="form-group">
                            <label>Opci√≥n 2</label>
                            <input type="text" class="poll-option" placeholder="Segunda opci√≥n" required>
                        </div>
                    </div>
                    <div class="poll-actions">
                        <button type="button" class="add-option" onclick="addPollOption()">
                            <i class="fas fa-plus"></i> Agregar opci√≥n
                        </button>
                    </div>
                    <div class="form-group">
                        <label for="pollDuration">Duraci√≥n</label>
                        <select id="pollDuration">
                            <option value="1">1 hora</option>
                            <option value="6">6 horas</option>
                            <option value="24" selected>1 d√≠a</option>
                            <option value="168">1 semana</option>
                        </select>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn btn-secondary" onclick="closePollModal()">Cancelar</button>
                        <button type="submit" class="btn btn-primary">Crear Encuesta</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-storage-compat.js"></script>
    <script src="js/firebase-config.js"></script>
    <script src="js/main.js?v=2024091801"></script>
    <script src="js/fanzone.js?v=2024091801"></script>
</body>
</html>